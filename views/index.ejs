<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <!-- Favicon -->
    <link rel="icon" href="https://avatars.githubusercontent.com/u/65255532?v=4" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
</head>
<body>
    <div class="container my-5">
        <div class="row">
            <div class="col-md-4">
                <img src="<%= githubData.avatar_url %>" alt="Profile Picture" class="img-fluid rounded-circle mb-3">
                <h2><%= name %></h2>
                <p class="text-muted">GitHub Developer</p>
                <p><a href="<%= githubData.html_url %>" target="_blank" class="btn btn-primary">GitHub Profile</a></p>

                <!-- GitHub Stats Section -->
                <h3>GitHub Stats</h3>
                <ul class="list-group mb-4">
                    <li class="list-group-item"><strong>Public Repositories:</strong> <%= githubData.public_repos %></li>
                    <li class="list-group-item"><strong>Followers:</strong> <%= githubData.followers %></li>
                    <li class="list-group-item"><strong>Stars Received:</strong> <%= stars %></li>
                    <li class="list-group-item"><strong>Forks:</strong> <%= forks %></li>
                    <li class="list-group-item"><strong>Open Issues:</strong> <%= openIssues %></li>
                    <li class="list-group-item"><strong>Pull Requests Merged:</strong> <%= pullRequestsMerged %></li>
                    <li class="list-group-item"><strong>Languages Used:</strong> <%= languages.join(', ') %></li>
                    <li class="list-group-item"><strong>Contributions in the last year:</strong> <%= contributions %></li>
                </ul>
            </div>

            <div class="col-md-8">
                <h3>Experience</h3>
                <ul class="list-group mb-4">
                    <% experience.forEach(exp => { %>
                        <li class="list-group-item">
                            <strong><%= exp.company %></strong> - <%= exp.role %> (<%= exp.duration %>)
                        </li>
                    <% }) %>
                </ul>

                <!-- Carousel for Certifications and Skills -->
                <div id="certificationsSkillsCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="2500">
                    <div class="carousel-inner">
                        <!-- Certifications Section -->
                        <div class="carousel-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <h3>Certifications</h3>
                                <button class="carousel-control-prev" type="button" data-bs-target="#certificationsSkillsCarousel" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Previous</span>
                                </button>
                                <button class="carousel-control-next" type="button" data-bs-target="#certificationsSkillsCarousel" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Next</span>
                                </button>
                            </div>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Institution</th>
                                        <th>Year</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% certifications.forEach(cert => { %>
                                        <tr>
                                            <td><%= cert.title %></td>
                                            <td><%= cert.institution %></td>
                                            <td><%= cert.year %></td>
                                        </tr>
                                    <% }) %>
                                </tbody>
                            </table>
                        </div>

                        <!-- Skills Section (set as active to start on Skills) -->
                        <div class="carousel-item active">
                            <div class="d-flex justify-content-between align-items-center">
                                <h3>Skills</h3>
                                <button class="carousel-control-prev" type="button" data-bs-target="#certificationsSkillsCarousel" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Previous</span>
                                </button>
                                <button class="carousel-control-next" type="button" data-bs-target="#certificationsSkillsCarousel" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Next</span>
                                </button>
                            </div>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Category</th>
                                        <th>Skills</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% for (const category in skills) { %>
                                        <tr>
                                            <td><strong><%= category.replace(/([A-Z])/g, ' $1').toUpperCase() %>:</strong></td>
                                            <td>
                                                <ul class="skill-list">
                                                    <% skills[category].forEach(skill => { %>
                                                        <li><%= skill %></li>
                                                    <% }) %>
                                                </ul>
                                            </td>
                                        </tr>
                                    <% } %>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
